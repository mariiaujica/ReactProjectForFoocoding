{"ast":null,"code":"function GetShoppingCart(){var shoppingcartdata=sessionStorage.getItem(\"shopping_cart\");var shoppingcart;if(typeof shoppingcartdata==\"undefined\"||shoppingcartdata==\"undefined\"){shoppingcart=[];}else{shoppingcart=JSON.parse(shoppingcartdata);}return shoppingcart;}function AddToCart(newProductID){var shoppingcart=GetShoppingCart();var found=false;shoppingcart.forEach(function(cartEntry){if(cartEntry.productID==newProductID){cartEntry.amount++;found=true;}});if(!found){var cartEntry={productID:newProductID,amount:1};shoppingcart.push(cartEntry);}sessionStorage.setItem(\"shopping_cart\",JSON.stringify(shoppingcart));UpdateShoppingCountState();return false;}function EmptyShoppingCart(){sessionStorage.setItem(\"shopping_cart\",undefined);UpdateShoppingCountState();}function CountItemsShoppingCart(){var shoppingcart=GetShoppingCart();var count=0;shoppingcart.forEach(function(cartEntry){count=count+cartEntry.amount;});return count;}function UpdateShoppingCountState(){var event=new Event('updateShoppingCount');document.dispatchEvent(event);}function GetShoppingAmountOf(newProductID){var shoppingcart=GetShoppingCart();var amount=0;shoppingcart.forEach(function(cartEntry){if(cartEntry.productID==newProductID){amount=cartEntry.amount;}});return amount;}function RemoveCharacter(productIDtoRemove){var shoppingcart=GetShoppingCart();var indexOfObject=shoppingcart.findIndex(function(cartEntry){return cartEntry.productID===productIDtoRemove;});console.log(indexOfObject);shoppingcart.splice(indexOfObject,1);sessionStorage.setItem(\"shopping_cart\",JSON.stringify(shoppingcart));UpdateShoppingCountState();}export{AddToCart,GetShoppingCart,EmptyShoppingCart,CountItemsShoppingCart,GetShoppingAmountOf,RemoveCharacter};","map":{"version":3,"names":["GetShoppingCart","shoppingcartdata","sessionStorage","getItem","shoppingcart","JSON","parse","AddToCart","newProductID","found","forEach","cartEntry","productID","amount","push","setItem","stringify","UpdateShoppingCountState","EmptyShoppingCart","undefined","CountItemsShoppingCart","count","event","Event","document","dispatchEvent","GetShoppingAmountOf","RemoveCharacter","productIDtoRemove","indexOfObject","findIndex","console","log","splice"],"sources":["C:/repositories/ReactProjectForFoocoding/ecommerce/src/shoppingCart.js"],"sourcesContent":["\r\nfunction GetShoppingCart(){\r\n    var shoppingcartdata = sessionStorage.getItem(\"shopping_cart\");\r\n    var shoppingcart;\r\n\r\n    if (typeof(shoppingcartdata) == \"undefined\" || shoppingcartdata==\"undefined\"){\r\n        shoppingcart = [];\r\n    }\r\n    else\r\n    {\r\n        shoppingcart = JSON.parse(shoppingcartdata);\r\n    }\r\n\r\n    return shoppingcart;\r\n}\r\n\r\nfunction AddToCart(newProductID){\r\n    var shoppingcart = GetShoppingCart();\r\n\r\n    var found = false;\r\n    shoppingcart.forEach(cartEntry => {\r\n        if(cartEntry.productID == newProductID){\r\n            cartEntry.amount++;\r\n            found = true;\r\n        }\r\n    });\r\n\r\n    if (!found){\r\n        var cartEntry = {\r\n            productID : newProductID,\r\n            amount:1\r\n        };\r\n        shoppingcart.push(cartEntry);\r\n    }\r\n    \r\n    sessionStorage.setItem(\"shopping_cart\", JSON.stringify(shoppingcart));\r\n    UpdateShoppingCountState();\r\n    return false;\r\n}\r\n\r\nfunction EmptyShoppingCart(){\r\n    sessionStorage.setItem(\"shopping_cart\", undefined);\r\n    UpdateShoppingCountState();\r\n}\r\n\r\nfunction CountItemsShoppingCart(){\r\n    var shoppingcart = GetShoppingCart();\r\n    var count = 0;\r\n    shoppingcart.forEach(cartEntry => {\r\n        count = count + cartEntry.amount;\r\n    });\r\n    return count;\r\n}\r\n\r\nfunction UpdateShoppingCountState(){\r\n    const event = new Event('updateShoppingCount');\r\n    document.dispatchEvent(event);\r\n}\r\n\r\nfunction GetShoppingAmountOf(newProductID){\r\n    var shoppingcart = GetShoppingCart();\r\n    var amount=0;\r\n    shoppingcart.forEach(cartEntry => {\r\n        if(cartEntry.productID == newProductID){\r\n            amount = cartEntry.amount;\r\n        }\r\n    });\r\n    return amount;\r\n}\r\n\r\nfunction RemoveCharacter(productIDtoRemove){\r\n    var shoppingcart = GetShoppingCart();\r\n    const indexOfObject = shoppingcart.findIndex(cartEntry => {\r\n        return cartEntry.productID === productIDtoRemove;\r\n    });\r\n    console.log(indexOfObject);\r\n    \r\n    shoppingcart.splice(indexOfObject, 1);\r\n    sessionStorage.setItem(\"shopping_cart\", JSON.stringify(shoppingcart));\r\n    UpdateShoppingCountState();\r\n}\r\n\r\n\r\nexport {AddToCart, GetShoppingCart, EmptyShoppingCart, CountItemsShoppingCart, GetShoppingAmountOf, RemoveCharacter};"],"mappings":"AACA,QAASA,gBAAT,EAA0B,CACtB,GAAIC,iBAAgB,CAAGC,cAAc,CAACC,OAAf,CAAuB,eAAvB,CAAvB,CACA,GAAIC,aAAJ,CAEA,GAAI,MAAOH,iBAAP,EAA4B,WAA5B,EAA2CA,gBAAgB,EAAE,WAAjE,CAA6E,CACzEG,YAAY,CAAG,EAAf,CACH,CAFD,IAIA,CACIA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWL,gBAAX,CAAf,CACH,CAED,MAAOG,aAAP,CACH,CAED,QAASG,UAAT,CAAmBC,YAAnB,CAAgC,CAC5B,GAAIJ,aAAY,CAAGJ,eAAe,EAAlC,CAEA,GAAIS,MAAK,CAAG,KAAZ,CACAL,YAAY,CAACM,OAAb,CAAqB,SAAAC,SAAS,CAAI,CAC9B,GAAGA,SAAS,CAACC,SAAV,EAAuBJ,YAA1B,CAAuC,CACnCG,SAAS,CAACE,MAAV,GACAJ,KAAK,CAAG,IAAR,CACH,CACJ,CALD,EAOA,GAAI,CAACA,KAAL,CAAW,CACP,GAAIE,UAAS,CAAG,CACZC,SAAS,CAAGJ,YADA,CAEZK,MAAM,CAAC,CAFK,CAAhB,CAIAT,YAAY,CAACU,IAAb,CAAkBH,SAAlB,EACH,CAEDT,cAAc,CAACa,OAAf,CAAuB,eAAvB,CAAwCV,IAAI,CAACW,SAAL,CAAeZ,YAAf,CAAxC,EACAa,wBAAwB,GACxB,MAAO,MAAP,CACH,CAED,QAASC,kBAAT,EAA4B,CACxBhB,cAAc,CAACa,OAAf,CAAuB,eAAvB,CAAwCI,SAAxC,EACAF,wBAAwB,GAC3B,CAED,QAASG,uBAAT,EAAiC,CAC7B,GAAIhB,aAAY,CAAGJ,eAAe,EAAlC,CACA,GAAIqB,MAAK,CAAG,CAAZ,CACAjB,YAAY,CAACM,OAAb,CAAqB,SAAAC,SAAS,CAAI,CAC9BU,KAAK,CAAGA,KAAK,CAAGV,SAAS,CAACE,MAA1B,CACH,CAFD,EAGA,MAAOQ,MAAP,CACH,CAED,QAASJ,yBAAT,EAAmC,CAC/B,GAAMK,MAAK,CAAG,GAAIC,MAAJ,CAAU,qBAAV,CAAd,CACAC,QAAQ,CAACC,aAAT,CAAuBH,KAAvB,EACH,CAED,QAASI,oBAAT,CAA6BlB,YAA7B,CAA0C,CACtC,GAAIJ,aAAY,CAAGJ,eAAe,EAAlC,CACA,GAAIa,OAAM,CAAC,CAAX,CACAT,YAAY,CAACM,OAAb,CAAqB,SAAAC,SAAS,CAAI,CAC9B,GAAGA,SAAS,CAACC,SAAV,EAAuBJ,YAA1B,CAAuC,CACnCK,MAAM,CAAGF,SAAS,CAACE,MAAnB,CACH,CACJ,CAJD,EAKA,MAAOA,OAAP,CACH,CAED,QAASc,gBAAT,CAAyBC,iBAAzB,CAA2C,CACvC,GAAIxB,aAAY,CAAGJ,eAAe,EAAlC,CACA,GAAM6B,cAAa,CAAGzB,YAAY,CAAC0B,SAAb,CAAuB,SAAAnB,SAAS,CAAI,CACtD,MAAOA,UAAS,CAACC,SAAV,GAAwBgB,iBAA/B,CACH,CAFqB,CAAtB,CAGAG,OAAO,CAACC,GAAR,CAAYH,aAAZ,EAEAzB,YAAY,CAAC6B,MAAb,CAAoBJ,aAApB,CAAmC,CAAnC,EACA3B,cAAc,CAACa,OAAf,CAAuB,eAAvB,CAAwCV,IAAI,CAACW,SAAL,CAAeZ,YAAf,CAAxC,EACAa,wBAAwB,GAC3B,CAGD,OAAQV,SAAR,CAAmBP,eAAnB,CAAoCkB,iBAApC,CAAuDE,sBAAvD,CAA+EM,mBAA/E,CAAoGC,eAApG"},"metadata":{},"sourceType":"module"}